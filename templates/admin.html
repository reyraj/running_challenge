{% extends '_base.html' %}
{% block title %}Admin Panel{% endblock %}
{% block content %}
  <p><a href="{{ url_for('home') }}">‚Üê Home</a></p>
  <h2>Admin Panel</h2>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Total Miles</th>
        <th>Remove Miles</th>
        <th>Drop Runner</th>
      </tr>
    </thead>
    <tbody>
      {% for runner, miles_total in roster %}
      <tr>
        <td>{{ runner.name }}</td>
        <td>{{ '%.1f'|format(miles_total) }}</td>
        <td>
          <form method="post" style="display:inline">
            <input type="hidden" name="participant_id" value="{{ runner.id }}">
            <input
              type="number"
              name="remove_miles"
              step="0.1"
              value="0.0"
              required
              style="width:60px">
            <button type="submit" class="btn-danger">Remove</button>
          </form>
        </td>
        <td>
          <form method="post" style="display:inline">
            <input type="hidden" name="drop_id" value="{{ runner.id }}">
            <button type="submit" class="btn-danger">Drop</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
